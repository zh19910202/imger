<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片对比工具栏布局测试</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .demo-container {
            background: rgba(0, 0, 0, 0.95);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }
        
        .demo-content {
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="demo-content">
            <h1>📸 图片对比工具栏布局演示</h1>
            <p>右侧工具栏优化后的布局效果（更靠近图片+修复关闭清理）</p>
            <button onclick="showToolbar()" style="padding: 12px 24px; font-size: 16px; background: #2196F3; color: white; border: none; border-radius: 8px; cursor: pointer;">显示优化后的工具栏</button>
            <p style="margin-top: 20px; opacity: 0.8; font-size: 14px;">
                优化特点：<br>
                • 工具栏更靠近图片（right: 5px）<br>
                • 图片区域调整适配新位置<br>
                • 修复关闭时工具栏残留问题<br>
                • 提高空间利用率<br>
                • 更好的视觉体验
            </p>
        </div>
    </div>

    <script>
        function showToolbar() {
            // 创建模拟的优化后工具栏
            const toolbar = document.createElement('div');
            toolbar.style.cssText = `
                position: fixed;
                top: 50%;
                right: 5px;
                transform: translateY(-50%);
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 12px;
                padding: 16px 12px;
                background: rgba(0, 0, 0, 0.9);
                backdrop-filter: blur(15px);
                border-radius: 16px;
                border: 1px solid rgba(255, 255, 255, 0.15);
                z-index: 1000000;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
                max-height: 85vh;
                overflow-y: auto;
                width: 80px;
                box-sizing: border-box;
            `;
            
            // 创建标题
            const title = document.createElement('div');
            title.textContent = '对比';
            title.style.cssText = `
                margin: 0;
                color: rgba(255, 255, 255, 0.95);
                font-family: 'Microsoft YaHei', Arial, sans-serif;
                font-size: 13px;
                font-weight: 600;
                text-align: center;
                line-height: 1.2;
                letter-spacing: 1px;
                padding: 8px 4px;
                border-bottom: 1px solid rgba(255, 255, 255, 0.2);
                width: 100%;
                box-sizing: border-box;
            `;
            
            // 创建按钮组容器
            const modeButtons = document.createElement('div');
            modeButtons.style.cssText = `
                display: flex;
                flex-direction: column;
                gap: 6px;
                align-items: center;
                width: 100%;
                padding: 8px 0;
            `;
            
            // 创建模式按钮
            const createModeButton = (text, icon, isActive = false) => {
                const button = document.createElement('button');
                
                const buttonContent = document.createElement('div');
                buttonContent.style.cssText = `
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 2px;
                `;
                
                const iconElement = document.createElement('div');
                iconElement.textContent = icon;
                iconElement.style.cssText = `
                    font-size: 16px;
                    line-height: 1;
                `;
                
                const textElement = document.createElement('div');
                textElement.textContent = text;
                textElement.style.cssText = `
                    font-size: 9px;
                    line-height: 1;
                    font-weight: 500;
                    white-space: nowrap;
                `;
                
                buttonContent.appendChild(iconElement);
                buttonContent.appendChild(textElement);
                button.appendChild(buttonContent);
                
                button.style.cssText = `
                    padding: 8px 6px;
                    background: ${isActive ? 'rgba(33, 150, 243, 0.9)' : 'rgba(255, 255, 255, 0.15)'};
                    color: white;
                    border: 1px solid ${isActive ? 'rgba(33, 150, 243, 0.6)' : 'rgba(255, 255, 255, 0.25)'};
                    border-radius: 12px;
                    cursor: pointer;
                    font-family: 'Microsoft YaHei', Arial, sans-serif;
                    transition: all 0.3s ease;
                    backdrop-filter: blur(10px);
                    width: 100%;
                    box-sizing: border-box;
                    min-height: 50px;
                `;
                
                button.addEventListener('mouseenter', () => {
                    if (!isActive) {
                        button.style.background = 'rgba(255, 255, 255, 0.25)';
                        button.style.borderColor = 'rgba(255, 255, 255, 0.4)';
                        button.style.transform = 'scale(1.02)';
                    }
                });
                
                button.addEventListener('mouseleave', () => {
                    if (!isActive) {
                        button.style.background = 'rgba(255, 255, 255, 0.15)';
                        button.style.borderColor = 'rgba(255, 255, 255, 0.25)';
                        button.style.transform = 'scale(1)';
                    }
                });
                
                return button;
            };
            
            const sideBySideBtn = createModeButton('并排对比', '📊', true);
            const sliderBtn = createModeButton('滑动对比', '🔄');
            const blinkBtn = createModeButton('闪烁对比', '⚡');
            
            modeButtons.appendChild(sideBySideBtn);
            modeButtons.appendChild(sliderBtn);
            modeButtons.appendChild(blinkBtn);
            
            // 创建关闭按钮
            const closeButton = document.createElement('button');
            
            const closeContent = document.createElement('div');
            closeContent.style.cssText = `
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 2px;
            `;
            
            const closeIcon = document.createElement('div');
            closeIcon.textContent = '✖️';
            closeIcon.style.cssText = `
                font-size: 14px;
                line-height: 1;
            `;
            
            const closeText = document.createElement('div');
            closeText.textContent = '关闭';
            closeText.style.cssText = `
                font-size: 9px;
                line-height: 1;
                font-weight: 500;
            `;
            
            closeContent.appendChild(closeIcon);
            closeContent.appendChild(closeText);
            closeButton.appendChild(closeContent);
            
            closeButton.style.cssText = `
                padding: 8px 6px;
                background: rgba(244, 67, 54, 0.85);
                color: white;
                border: 1px solid rgba(244, 67, 54, 0.6);
                border-radius: 12px;
                cursor: pointer;
                font-family: 'Microsoft YaHei', Arial, sans-serif;
                transition: all 0.3s ease;
                backdrop-filter: blur(10px);
                width: 100%;
                box-sizing: border-box;
                margin-top: 8px;
                min-height: 45px;
            `;
            
            closeButton.addEventListener('mouseenter', () => {
                closeButton.style.background = 'rgba(244, 67, 54, 1)';
                closeButton.style.borderColor = 'rgba(244, 67, 54, 0.8)';
                closeButton.style.transform = 'scale(1.05)';
                closeButton.style.boxShadow = '0 4px 12px rgba(244, 67, 54, 0.4)';
            });
            
            closeButton.addEventListener('mouseleave', () => {
                closeButton.style.background = 'rgba(244, 67, 54, 0.85)';
                closeButton.style.borderColor = 'rgba(244, 67, 54, 0.6)';
                closeButton.style.transform = 'scale(1)';
                closeButton.style.boxShadow = 'none';
            });
            
            closeButton.addEventListener('click', () => {
                document.body.removeChild(toolbar);
            });
            
            // 组装工具栏
            toolbar.appendChild(title);
            toolbar.appendChild(modeButtons);
            toolbar.appendChild(closeButton);
            
            // 添加到页面
            document.body.appendChild(toolbar);
        }
    </script>
</body>
</html>